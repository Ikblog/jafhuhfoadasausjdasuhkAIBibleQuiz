<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bible Quiz - Genesis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #ffffff;
            text-align: center;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 118, 117, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 200, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        /* Splash Screen Styles */
        #splash-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 40px 20px;
            position: relative;
        }

        #splash-title {
            font-size: clamp(3rem, 8vw, 4.5rem);
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            animation: titleGlow 3s ease-in-out infinite alternate;
            text-shadow: 0 0 40px rgba(102, 126, 234, 0.3);
        }

        @keyframes titleGlow {
            from { filter: brightness(1) drop-shadow(0 0 20px rgba(102, 126, 234, 0.3)); }
            to { filter: brightness(1.1) drop-shadow(0 0 30px rgba(102, 126, 234, 0.5)); }
        }

        #splash-subtitle {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            color: #c7d2fe;
            margin-bottom: 50px;
            font-weight: 300;
            letter-spacing: 0.5px;
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.5s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #level-selection {
            margin-bottom: 40px;
            opacity: 0;
            animation: fadeInUp 1s ease-out 1s forwards;
        }

        #level-selection h3 {
            color: #fbbf24;
            margin-bottom: 30px;
            font-size: clamp(1.3rem, 3vw, 1.6rem);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .level-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
            gap: 20px;
            max-width: 500px;
            margin: 0 auto 40px;
        }

        .level-btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: 700;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .level-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .level-btn:hover::before {
            left: 100%;
        }

        .level-btn:hover {
            transform: translateY(-5px) scale(1.05);
            border-color: rgba(102, 126, 234, 0.6);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
            background: rgba(102, 126, 234, 0.2);
        }

        .level-btn.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            transform: translateY(-3px) scale(1.02);
        }

        #play-button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            border: none;
            padding: 25px 60px;
            font-size: clamp(1.4rem, 4vw, 2rem);
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 15px 35px rgba(255, 107, 107, 0.3);
            position: relative;
            overflow: hidden;
            opacity: 0;
            animation: fadeInUp 1s ease-out 1.5s forwards;
        }

        #play-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        #play-button:hover::before {
            left: 100%;
        }

        #play-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(255, 107, 107, 0.5);
        }

        #play-button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        #splash-description {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            color: #a5b4fc;
            margin-top: 40px;
            max-width: 700px;
            line-height: 1.8;
            font-weight: 300;
            opacity: 0;
            animation: fadeInUp 1s ease-out 2s forwards;
        }

        /* Quiz Container Styles */
        #quiz-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
            display: none;
            min-height: 100vh;
        }

        #back-to-menu {
            position: fixed;
            top: 30px;
            left: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #back-to-menu:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
            border-color: rgba(102, 126, 234, 0.6);
        }

        #header {
            margin-bottom: 40px;
            text-align: center;
        }

        #title {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        #subtitle {
            font-size: clamp(1rem, 3vw, 1.3rem);
            color: #c7d2fe;
            margin-bottom: 20px;
            font-weight: 300;
        }

        #level-display {
            font-size: clamp(1.4rem, 4vw, 2rem);
            font-weight: 700;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        #question-box {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            color: #1f2937;
            padding: 40px;
            border-radius: 25px;
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            margin: 30px auto;
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.6;
            font-weight: 500;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            animation: slideInDown 0.6s ease-out;
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #reference {
            font-size: 1rem;
            color: #fbbf24;
            font-weight: 600;
            margin-bottom: 20px;
            font-style: italic;
        }

        .answer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px auto;
            max-width: 900px;
        }

        .answer-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            color: white;
            padding: 25px;
            border-radius: 20px;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.4;
            font-weight: 500;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
        }

        .answer-box:nth-child(1) { animation-delay: 0.1s; }
        .answer-box:nth-child(2) { animation-delay: 0.2s; }
        .answer-box:nth-child(3) { animation-delay: 0.3s; }
        .answer-box:nth-child(4) { animation-delay: 0.4s; }

        .answer-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .answer-box:hover::before {
            left: 100%;
        }

        .answer-box:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(102, 126, 234, 0.6);
            background: rgba(102, 126, 234, 0.2);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
        }

        .answer-box.selected {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-color: #10b981;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 40px rgba(16, 185, 129, 0.4);
        }

        #timer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
        }

        #timer {
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            font-weight: 700;
            color: #ffffff;
            background: rgba(239, 68, 68, 0.9);
            backdrop-filter: blur(15px);
            padding: 15px 30px;
            border-radius: 50px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border: 2px solid rgba(239, 68, 68, 0.3);
            box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        #progress-container {
            margin: 30px 0;
        }

        #progress {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: #c7d2fe;
            margin-bottom: 15px;
            font-weight: 600;
        }

        #progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #progress-bar-fill {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 25px;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%);
            backdrop-filter: blur(30px);
            margin: 5% auto;
            padding: 50px;
            border-radius: 30px;
            width: 90%;
            max-width: 600px;
            text-align: center;
            color: #1f2937;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            animation: modalSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        #congratulations {
            font-size: clamp(2rem, 5vw, 2.8rem);
            font-weight: 800;
            margin-bottom: 25px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        #score-display {
            font-size: clamp(1.4rem, 4vw, 2rem);
            margin-bottom: 30px;
            font-weight: 700;
            color: #374151;
        }

        #encouragement {
            font-size: clamp(1.1rem, 3vw, 1.4rem);
            margin-bottom: 40px;
            color: #6b7280;
            line-height: 1.6;
            font-weight: 400;
        }

        .modal-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 0 10px 10px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .modal-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .level-grid {
                grid-template-columns: repeat(5, 1fr);
                max-width: 350px;
                gap: 15px;
            }
            
            .level-btn {
                padding: 15px;
                min-height: 60px;
                font-size: 1.1em;
            }
            
            .answer-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            #question-box {
                padding: 25px;
                margin: 20px auto;
            }
            
            .modal-content {
                margin: 10% auto;
                padding: 30px;
                width: 95%;
            }
            
            #back-to-menu {
                top: 20px;
                left: 20px;
                padding: 12px 20px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .level-grid {
                grid-template-columns: repeat(3, 1fr);
                max-width: 280px;
            }
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen">
        <div id="splash-title">Bible Quiz</div>
        <div id="splash-subtitle">Test Your Knowledge of Genesis</div>
        
        <div id="level-selection">
            <h3>Select Level</h3>
            <div class="level-grid">
                <button class="level-btn" onclick="selectLevel(1)">1</button>
                <button class="level-btn" onclick="selectLevel(2)">2</button>
                <button class="level-btn" onclick="selectLevel(3)">3</button>
                <button class="level-btn" onclick="selectLevel(4)">4</button>
                <button class="level-btn" onclick="selectLevel(5)">5</button>
                <button class="level-btn" onclick="selectLevel(6)">6</button>
                <button class="level-btn" onclick="selectLevel(7)">7</button>
                <button class="level-btn" onclick="selectLevel(8)">8</button>
                <button class="level-btn" onclick="selectLevel(9)">9</button>
                <button class="level-btn" onclick="selectLevel(10)">10</button>
            </div>
        </div>
        
        <button id="play-button" onclick="startQuiz()" disabled>Start Quiz</button>
        <div id="splash-description">
            Journey through the book of Genesis with challenging questions about creation, 
            the patriarchs, and the foundations of faith. Each level increases in difficulty 
            with more questions to test your biblical knowledge.
        </div>
    </div>

    <!-- Quiz Game -->
    <div id="quiz-container">
        <button id="back-to-menu" onclick="backToMenu()">← Menu</button>
        
        <div id="header">
            <div id="title">Bible Quiz</div>
            <div id="subtitle">Test Your Knowledge of Genesis</div>
            <div id="level-display">LEVEL 1</div>
        </div>
        
        <div id="question-box">Get ready to begin the quiz!</div>
        <div id="reference"></div>
        
        <div id="timer-container">
            <div id="timer">
                <span id="timer-icon">⏱️</span>
                <span id="time-left">30</span> seconds
            </div>
        </div>
        
        <div id="progress-container">
            <div id="progress">Question <span id="current-question">0</span> of <span id="total-questions">0</span></div>
            <div id="progress-bar">
                <div id="progress-bar-fill"></div>
            </div>
        </div>
        
        <div class="answer-container">
            <div class="answer-box" onclick="selectAnswer(this, 0)"></div>
            <div class="answer-box" onclick="selectAnswer(this, 1)"></div>
            <div class="answer-box" onclick="selectAnswer(this, 2)"></div>
            <div class="answer-box" onclick="selectAnswer(this, 3)"></div>
        </div>
    </div>

    <!-- Score Modal -->
    <div id="scoreModal" class="modal">
        <div class="modal-content">
            <h2 id="congratulations"></h2>
            <p id="score-display"></p>
            <p id="encouragement"></p>
            <button class="modal-btn" id="next-level-btn" onclick="nextLevel()">Next Level</button>
            <button class="modal-btn" id="retry-btn" onclick="retryQuiz()">Retry Level</button>
            <button class="modal-btn" id="close-btn" onclick="backToMenu()">Main Menu</button>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let score = 0;
        let timeLeft = 30;
        let timer;
        let currentLevel = 1;
        let selectedLevel = 0;
        let questions = [];
        let totalQuestions = 0;
        let selectedAnswerIndex = -1;
        
        // Bible questions organized by level (Genesis only)
        const allQuestions = {
            1: [
                { question: "In the beginning, what did God create first?", 
                  answers: ["Light", "The heavens and the earth", "Man", "Animals"], 
                  correct: 1,
                  reference: "Genesis 1:1" },
                { question: "On which day did God create the sun, moon, and stars?", 
                  answers: ["First day", "Second day", "Third day", "Fourth day"], 
                  correct: 3,
                  reference: "Genesis 1:14-19" },
                { question: "What was the name of the first man God created?", 
                  answers: ["Noah", "Abraham", "Adam", "Moses"], 
                  correct: 2,
                  reference: "Genesis 2:7" },
                { question: "From which part of Adam's body did God create Eve?", 
                  answers: ["Foot", "Rib", "Head", "Hand"], 
                  correct: 1,
                  reference: "Genesis 2:21-22" },
                { question: "What was the name of the garden where Adam and Eve lived?", 
                  answers: ["Garden of Gethsemane", "Garden of Babylon", "Garden of Eden", "Garden of Paradise"], 
                  correct: 2,
                  reference: "Genesis 2:8" }
            ],
            2: [
                { question: "What was the name of the tree that Adam and Eve were forbidden to eat from?", 
                  answers: ["Tree of Knowledge of Good and Evil", "Tree of Life", "Tree of Wisdom", "Tree of Eternal Life"], 
                  correct: 0,
                  reference: "Genesis 2:17" },
                { question: "Who tempted Eve to eat the forbidden fruit?", 
                  answers: ["A lion", "An angel", "A serpent", "Another human"], 
                  correct: 2,
                  reference: "Genesis 3:1" },
                { question: "What did Adam and Eve realize after eating the forbidden fruit?", 
                  answers: ["They were naked", "They were powerful", "They could fly", "They were invisible"], 
                  correct: 0,
                  reference: "Genesis 3:7" },
                { question: "What did God use to clothe Adam and Eve after they sinned?", 
                  answers: ["Leaves", "Animal skins", "Linen", "Wool"], 
                  correct: 1,
                  reference: "Genesis 3:21" },
                { question: "Who was the first son of Adam and Eve?", 
                  answers: ["Abel", "Cain", "Seth", "Enosh"], 
                  correct: 1,
                  reference: "Genesis 4:1" },
                { question: "What was Cain's occupation?", 
                  answers: ["Farmer", "Shepherd", "Blacksmith", "Fisherman"], 
                  correct: 0,
                  reference: "Genesis 4:2" }
            ],
            3: [
                { question: "What was Abel's occupation?", 
                  answers: ["Farmer", "Shepherd", "Blacksmith", "Fisherman"], 
                  correct: 1,
                  reference: "Genesis 4:2" },
                { question: "Why did God reject Cain's offering?", 
                  answers: ["It was too small", "It wasn't from the heart", "It was the wrong type", "The Bible doesn't say"], 
                  correct: 3,
                  reference: "Genesis 4:3-7" },
                { question: "What did Cain do to Abel?", 
                  answers: ["He blessed him", "He killed him", "He sold him", "He ignored him"], 
                  correct: 1,
                  reference: "Genesis 4:8" },
                { question: "What mark did God put on Cain to protect him?", 
                  answers: ["A cross", "A star", "A seal", "The Bible doesn't specify"], 
                  correct: 3,
                  reference: "Genesis 4:15" },
                { question: "How many sons did Adam and Eve have according to Genesis 5:4?", 
                  answers: ["2", "3", "Many", "The Bible doesn't say"], 
                  correct: 2,
                  reference: "Genesis 5:4" },
                { question: "How long did Methuselah live?", 
                  answers: ["365 years", "777 years", "969 years", "1000 years"], 
                  correct: 2,
                  reference: "Genesis 5:27" },
                { question: "Why did God decide to send the flood in Noah's time?", 
                  answers: ["Because of human wickedness", "Because of animal overpopulation", "Because of climate change", "Because Noah asked for it"], 
                  correct: 0,
                  reference: "Genesis 6:5-7" }
            ],
            4: [
                { question: "How many of each clean animal did Noah take on the ark?", 
                  answers: ["2", "7", "12", "14"], 
                  correct: 1,
                  reference: "Genesis 7:2" },
                { question: "How long did it rain during the flood?", 
                  answers: ["7 days", "40 days", "150 days", "1 year"], 
                  correct: 1,
                  reference: "Genesis 7:12" },
                { question: "What was the first bird Noah sent out from the ark?", 
                  answers: ["Dove", "Raven", "Eagle", "Sparrow"], 
                  correct: 1,
                  reference: "Genesis 8:7" },
                { question: "What was the sign of God's covenant with Noah after the flood?", 
                  answers: ["A cross", "A rainbow", "A dove", "An olive branch"], 
                  correct: 1,
                  reference: "Genesis 9:13" },
                { question: "Who was Noah's firstborn son?", 
                  answers: ["Shem", "Ham", "Japheth", "Canaan"], 
                  correct: 1,
                  reference: "Genesis 9:18" },
                { question: "What did Ham do that brought a curse on his son Canaan?", 
                  answers: ["He laughed at Noah", "He saw Noah's nakedness", "He stole from Noah", "He disobeyed Noah"], 
                  correct: 1,
                  reference: "Genesis 9:22-25" },
                { question: "How many languages were spoken before the Tower of Babel?", 
                  answers: ["1", "7", "12", "70"], 
                  correct: 0,
                  reference: "Genesis 11:1" },
                { question: "What was the original name of Abraham?", 
                  answers: ["Abram", "Abel", "Adam", "Aaron"], 
                  correct: 0,
                  reference: "Genesis 11:26" }
            ],
            5: [
                { question: "How old was Abraham when he left Haran?", 
                  answers: ["50", "75", "100", "120"], 
                  correct: 1,
                  reference: "Genesis 12:4" },
                { question: "Who was Abraham's wife?", 
                  answers: ["Rebekah", "Rachel", "Sarah", "Leah"], 
                  correct: 2,
                  reference: "Genesis 11:29" },
                { question: "Why did Abraham and Lot separate?", 
                  answers: ["Their herds were too large", "They had a disagreement", "God told them to", "Lot wanted to explore"], 
                  correct: 0,
                  reference: "Genesis 13:6" },
                { question: "What was the name of the priest Abraham met after rescuing Lot?", 
                  answers: ["Melchizedek", "Jethro", "Aaron", "Eli"], 
                  correct: 0,
                  reference: "Genesis 14:18" },
                { question: "How old was Sarah when Isaac was born?", 
                  answers: ["65", "75", "90", "100"], 
                  correct: 2,
                  reference: "Genesis 17:17" },
                { question: "What was the original name of Sarah?", 
                  answers: ["Sarai", "Rebekah", "Rachel", "Leah"], 
                  correct: 0,
                  reference: "Genesis 17:15" },
                { question: "How many righteous people would have spared Sodom?", 
                  answers: ["5", "10", "20", "50"], 
                  correct: 1,
                  reference: "Genesis 18:32" },
                { question: "Who was turned into a pillar of salt?", 
                  answers: ["Sarah", "Lot's wife", "Rebekah", "Rachel"], 
                  correct: 1,
                  reference: "Genesis 19:26" }
            ],
            6: [
                { question: "What was the name of Abraham's son with Hagar?", 
                  answers: ["Ishmael", "Isaac", "Esau", "Jacob"], 
                  correct: 0,
                  reference: "Genesis 16:15" },
                { question: "How old was Abraham when Isaac was born?", 
                  answers: ["75", "90", "100", "120"], 
                  correct: 2,
                  reference: "Genesis 21:5" },
                { question: "Where did God tell Abraham to sacrifice Isaac?", 
                  answers: ["Mount Sinai", "Mount Moriah", "Mount Carmel", "Mount Zion"], 
                  correct: 1,
                  reference: "Genesis 22:2" },
                { question: "What did God provide as a substitute for Isaac?", 
                  answers: ["A lamb", "A goat", "A ram", "A calf"], 
                  correct: 2,
                  reference: "Genesis 22:13" },
                { question: "Who did Abraham send to find a wife for Isaac?", 
                  answers: ["Lot", "Eliezer", "Ishmael", "Melchizedek"], 
                  correct: 1,
                  reference: "Genesis 24:2" },
                { question: "Where did Rebekah come from?", 
                  answers: ["Canaan", "Egypt", "Aram-Naharaim", "Philistia"], 
                  correct: 2,
                  reference: "Genesis 24:10" },
                { question: "How did Rebekah respond when asked if she would go with Abraham's servant?", 
                  answers: ["She refused", "She asked to wait", "She said 'I will go'", "She consulted her parents"], 
                  correct: 2,
                  reference: "Genesis 24:58" },
                { question: "Where did Isaac meet Rebekah when she arrived?", 
                  answers: ["At the city gate", "In the field", "By the well", "At his tent"], 
                  correct: 1,
                  reference: "Genesis 24:63" }
            ],
            7: [
                { question: "How many sons did Isaac and Rebekah have?", 
                  answers: ["1", "2", "12", "20"], 
                  correct: 1,
                  reference: "Genesis 25:26" },
                { question: "What were the names of Isaac's twin sons?", 
                  answers: ["Cain and Abel", "Jacob and Esau", "Joseph and Benjamin", "Aaron and Moses"], 
                  correct: 1,
                  reference: "Genesis 25:24-26" },
                { question: "What was Esau's occupation?", 
                  answers: ["Farmer", "Shepherd", "Hunter", "Blacksmith"], 
                  correct: 2,
                  reference: "Genesis 25:27" },
                { question: "What did Jacob give Esau in exchange for his birthright?", 
                  answers: ["Money", "Land", "Bread and lentil stew", "A blessing"], 
                  correct: 2,
                  reference: "Genesis 25:34" },
                { question: "Where did Jacob flee to after deceiving Isaac?", 
                  answers: ["Egypt", "Haran", "Canaan", "Sodom"], 
                  correct: 1,
                  reference: "Genesis 28:10" },
                { question: "What did Jacob see in his dream at Bethel?", 
                  answers: ["A burning bush", "A ladder to heaven", "A great flood", "A golden calf"], 
                  correct: 1,
                  reference: "Genesis 28:12" },
                { question: "How many years did Jacob work for Rachel?", 
                  answers: ["7", "14", "20", "40"], 
                  correct: 1,
                  reference: "Genesis 29:20, 30" },
                { question: "Who was Jacob's first wife?", 
                  answers: ["Rachel", "Leah", "Bilhah", "Zilpah"], 
                  correct: 1,
                  reference: "Genesis 29:23" }
            ],
            8: [
                { question: "How many sons did Jacob have?", 
                  answers: ["7", "10", "12", "15"], 
                  correct: 2,
                  reference: "Genesis 35:22-26" },
                { question: "Which son was sold into slavery by his brothers?", 
                  answers: ["Reuben", "Judah", "Joseph", "Benjamin"], 
                  correct: 2,
                  reference: "Genesis 37:28" },
                { question: "What was Joseph's special garment called?", 
                  answers: ["Robe of many colors", "Priestly garment", "Royal cloak", "Prophet's mantle"], 
                  correct: 0,
                  reference: "Genesis 37:3" },
                { question: "Who was Joseph's first master in Egypt?", 
                  answers: ["Pharaoh", "Potiphar", "The baker", "The cupbearer"], 
                  correct: 1,
                  reference: "Genesis 39:1" },
                { question: "Why was Joseph put in prison?", 
                  answers: ["For stealing", "For interpreting dreams", "For false accusation", "For disobeying Pharaoh"], 
                  correct: 2,
                  reference: "Genesis 39:20" },
                { question: "Whose dreams did Joseph interpret in prison?", 
                  answers: ["Pharaoh's butler and baker", "Two fellow prisoners", "The prison guards", "No one"], 
                  correct: 0,
                  reference: "Genesis 40:5" },
                { question: "How many years of plenty did Pharaoh dream about?", 
                  answers: ["3", "7", "10", "12"], 
                  correct: 1,
                  reference: "Genesis 41:26" },
                { question: "What position did Pharaoh give Joseph?", 
                  answers: ["Chief baker", "Head guard", "Second in command", "High priest"], 
                  correct: 2,
                  reference: "Genesis 41:41" }
            ],
            9: [
                { question: "What name did Pharaoh give Joseph?", 
                  answers: ["Zaphenath-Paneah", "Imhotep", "Amenhotep", "Ramses"], 
                  correct: 0,
                  reference: "Genesis 41:45" },
                { question: "Who was Joseph's Egyptian wife?", 
                  answers: ["Zuleika", "Asenath", "Nefertiti", "Hatshepsut"], 
                  correct: 1,
                  reference: "Genesis 41:45" },
                { question: "What were the names of Joseph's two sons?", 
                  answers: ["Reuben and Simeon", "Judah and Benjamin", "Ephraim and Manasseh", "Gad and Asher"], 
                  correct: 2,
                  reference: "Genesis 41:50-52" },
                { question: "Why did Jacob's sons go to Egypt?", 
                  answers: ["To visit Joseph", "To buy grain", "To escape famine", "To find wives"], 
                  correct: 1,
                  reference: "Genesis 42:1-3" },
                { question: "What did Joseph hide in Benjamin's sack?", 
                  answers: ["Money", "His silver cup", "A golden idol", "A letter"], 
                  correct: 1,
                  reference: "Genesis 44:2" },
                { question: "How old was Jacob when he stood before Pharaoh?", 
                  answers: ["100", "120", "130", "147"], 
                  correct: 2,
                  reference: "Genesis 47:9" },
                { question: "Where did Jacob ask to be buried?", 
                  answers: ["Egypt", "Canaan", "In the cave of Machpelah", "Near Bethel"], 
                  correct: 2,
                  reference: "Genesis 49:29-30" },
                { question: "How old was Joseph when he died?", 
                  answers: ["100", "110", "120", "130"], 
                  correct: 1,
                  reference: "Genesis 50:26" }
            ],
            10: [
                { question: "Who received the birthright blessing instead of Reuben?", 
                  answers: ["Simeon", "Levi", "Judah", "Joseph"], 
                  correct: 3,
                  reference: "Genesis 49:22-26; 1 Chronicles 5:1-2" },
                { question: "Which brother offered himself as a substitute for Benjamin?", 
                  answers: ["Reuben", "Judah", "Levi", "Simeon"], 
                  correct: 1,
                  reference: "Genesis 44:18-34" },
                { question: "What prophecy did Jacob give about Judah?", 
                  answers: ["He would be scattered", "The scepter would not depart from him", "He would be a priest", "He would be a servant"], 
                  correct: 1,
                  reference: "Genesis 49:10" },
                { question: "How many people from Jacob's family went to Egypt?", 
                  answers: ["50", "70", "120", "144"], 
                  correct: 1,
                  reference: "Genesis 46:27" },
                { question: "What did Joseph make the Egyptians promise before he died?", 
                  answers: ["To keep his bones", "To take his bones back to Canaan", "To bury him in Egypt", "To build him a pyramid"], 
                  correct: 1,
                  reference: "Genesis 50:25" },
                { question: "Who was Jacob's firstborn son?", 
                  answers: ["Simeon", "Reuben", "Judah", "Joseph"], 
                  correct: 1,
                  reference: "Genesis 29:32" },
                { question: "Which of Jacob's sons was born last?", 
                  answers: ["Joseph", "Benjamin", "Dan", "Naphtali"], 
                  correct: 1,
                  reference: "Genesis 35:16-18" },
                { question: "What was Jacob's name changed to?", 
                  answers: ["Israel", "Abraham", "Isaac", "Joseph"], 
                  correct: 0,
                  reference: "Genesis 32:28" },
                { question: "How many years of famine did Joseph predict?", 
                  answers: ["3", "7", "10", "12"], 
                  correct: 1,
                  reference: "Genesis 41:30" },
                { question: "Which brother was kept in prison as a guarantee the others would return with Benjamin?", 
                  answers: ["Reuben", "Simeon", "Levi", "Judah"], 
                  correct: 1,
                  reference: "Genesis 42:24" }
            ]
        };

        // Select level function
        function selectLevel(level) {
            selectedLevel = level;
            currentLevel = level;
            
            // Remove selected class from all buttons
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selected class to clicked button
            event.target.classList.add('selected');
            
            // Enable play button
            document.getElementById('play-button').disabled = false;
            
            // Update level display text
            document.getElementById('level-display').textContent = `LEVEL ${level}`;
        }

        // Start quiz function
        function startQuiz() {
            // Hide splash screen and show quiz container
            document.getElementById('splash-screen').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            
            // Set questions for selected level
            questions = allQuestions[selectedLevel];
            totalQuestions = questions.length;
            
            // Reset quiz variables
            currentQuestion = 0;
            score = 0;
            selectedAnswerIndex = -1;
            
            // Update progress display
            updateProgress();
            
            // Start with first question
            displayQuestion();
            
            // Start timer
            startTimer();
        }

        // Display question function
        function displayQuestion() {
            // Reset timer
            resetTimer();
            
            // Get current question data
            const questionData = questions[currentQuestion];
            
            // Update question box
            document.getElementById('question-box').textContent = questionData.question;
            document.getElementById('reference').textContent = questionData.reference;
            
            // Update answer boxes
            const answerBoxes = document.querySelectorAll('.answer-box');
            questionData.answers.forEach((answer, index) => {
                answerBoxes[index].textContent = answer;
                answerBoxes[index].classList.remove('selected');
            });
            
            // Reset selected answer
            selectedAnswerIndex = -1;
        }

        // Select answer function
        function selectAnswer(element, index) {
            // Remove selected class from all answers
            document.querySelectorAll('.answer-box').forEach(box => {
                box.classList.remove('selected');
            });
            
            // Add selected class to clicked answer
            element.classList.add('selected');
            selectedAnswerIndex = index;
            
            // Check answer after delay
            setTimeout(checkAnswer, 500);
        }

        // Check answer function
        function checkAnswer() {
            // Stop timer
            clearInterval(timer);
            
            // Get current question data
            const questionData = questions[currentQuestion];
            
            // Check if answer is correct
            const isCorrect = selectedAnswerIndex === questionData.correct;
            
            // Update score if correct
            if (isCorrect) {
                score++;
            }
            
            // Highlight correct answer
            const answerBoxes = document.querySelectorAll('.answer-box');
            answerBoxes[questionData.correct].classList.add('selected');
            
            // Move to next question after delay
            setTimeout(() => {
                currentQuestion++;
                
                // Check if quiz is complete
                if (currentQuestion < totalQuestions) {
                    displayQuestion();
                    startTimer();
                } else {
                    showResults();
                }
                
                // Update progress
                updateProgress();
            }, 1500);
        }

        // Update progress function
        function updateProgress() {
            document.getElementById('current-question').textContent = currentQuestion + 1;
            document.getElementById('total-questions').textContent = totalQuestions;
            
            // Calculate progress percentage
            const progressPercent = ((currentQuestion) / totalQuestions) * 100;
            document.getElementById('progress-bar-fill').style.width = `${progressPercent}%`;
        }

        // Timer functions
        function startTimer() {
            timeLeft = 30;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    timeUp();
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timer);
            timeLeft = 30;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            document.getElementById('time-left').textContent = timeLeft;
            
            // Change color when time is running low
            if (timeLeft <= 10) {
                document.getElementById('timer').style.background = 'rgba(239, 68, 68, 0.9)';
                document.getElementById('timer').style.animation = 'pulse 0.5s ease-in-out infinite';
            } else {
                document.getElementById('timer').style.background = 'rgba(239, 68, 68, 0.9)';
                document.getElementById('timer').style.animation = 'pulse 2s ease-in-out infinite';
            }
        }

        function timeUp() {
            // Automatically move to next question
            currentQuestion++;
            
            // Check if quiz is complete
            if (currentQuestion < totalQuestions) {
                displayQuestion();
                startTimer();
            } else {
                showResults();
            }
            
            // Update progress
            updateProgress();
        }

        // Show results function
        function showResults() {
            // Calculate score percentage
            const scorePercent = Math.round((score / totalQuestions) * 100);
            
            // Update modal content
            document.getElementById('congratulations').textContent = scorePercent >= 70 ? 'Congratulations!' : 'Quiz Complete!';
            document.getElementById('score-display').textContent = `You scored ${score} out of ${totalQuestions} (${scorePercent}%)`;
            
            // Set encouragement message based on score
            let encouragement = '';
            if (scorePercent >= 90) {
                encouragement = 'Outstanding! Your knowledge of Genesis is truly impressive. Keep studying God\'s Word!';
            } else if (scorePercent >= 70) {
                encouragement = 'Great job! You have a good understanding of Genesis. Keep learning more!';
            } else if (scorePercent >= 50) {
                encouragement = 'Not bad! You know some key events in Genesis. Keep studying to improve!';
            } else {
                encouragement = 'Keep studying! The book of Genesis is foundational to understanding the Bible. Try again!';
            }
            document.getElementById('encouragement').textContent = encouragement;
            
            // Show/hide next level button based on current level
            const nextLevelBtn = document.getElementById('next-level-btn');
            if (currentLevel < 10) {
                nextLevelBtn.style.display = 'inline-block';
            } else {
                nextLevelBtn.style.display = 'none';
            }
            
            // Show modal
            document.getElementById('scoreModal').style.display = 'block';
        }

        // Next level function
        function nextLevel() {
            // Increase level
            currentLevel++;
            selectedLevel = currentLevel;
            
            // Hide modal
            document.getElementById('scoreModal').style.display = 'none';
            
            // Update level display
            document.getElementById('level-display').textContent = `LEVEL ${currentLevel}`;
            
            // Start quiz with new level
            startQuiz();
        }

        // Retry quiz function
        function retryQuiz() {
            // Hide modal
            document.getElementById('scoreModal').style.display = 'none';
            
            // Start quiz with same level
            startQuiz();
        }

        // Back to menu function
        function backToMenu() {
            // Hide quiz container and show splash screen
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('splash-screen').style.display = 'flex';
            
            // Hide modal if open
            document.getElementById('scoreModal').style.display = 'none';
            
            // Reset level selection
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.getElementById('play-button').disabled = true;
        }

        // Close modal function
        function closeModal() {
            document.getElementById('scoreModal').style.display = 'none';
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Close modal when clicking outside
            window.addEventListener('click', (event) => {
                if (event.target === document.getElementById('scoreModal')) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>
